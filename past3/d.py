N = int(input())
S = [list(input()) for i in range(5)]
output = []
for x in range(N):
    if S[0][4 * x:4 * x + 4] == [
            '.',
            '#',
            '#',
            '#'] and S[1][4 * x:4 * x + 4] == [
            '.',
            '#',
            '.',
            '#'] and S[2][4 * x:4 * x + 4] == [
                '.',
                '#',
                '.',
                '#'] and S[3][4 * x:4 * x + 4] == [
                    '.',
                    '#',
                    '.',
                    '#'] and S[4][4 * x:4 * x + 4] == [
                        '.',
                        '#',
                        '#',
            '#']:
        output.append("0")
    elif S[0][4 * x:4 * x + 4] == ['.', '.', '#', '.'] and S[1][4 * x:4 * x + 4] == ['.', '#', '#', '.'] and S[2][4 * x:4 * x + 4] == ['.', '.', '#', '.'] and S[3][4 * x:4 * x + 4] == ['.', '.', '#', '.'] and S[4][4 * x:4 * x + 4] == ['.', '#', '#', '#']:
        output.append("1")
    elif S[0][4 * x:4 * x + 4] == ['.', '#', '#', '#']and S[1][4 * x:4 * x + 4] == ['.', '.', '.', '#']and S[2][4 * x:4 * x + 4] == ['.', '#', '#', '#']and S[3][4 * x:4 * x + 4] == ['.', '#', '.', '.']and S[4][4 * x:4 * x + 4] == ['.', '#', '#', '#']:
        output.append("2")
    elif S[0][4 * x:4 * x + 4] == ['.', '#', '#', '#']and S[1][4 * x:4 * x + 4] == ['.', '.', '.', '#']and S[2][4 * x:4 * x + 4] == ['.', '#', '#', '#']and S[3][4 * x:4 * x + 4] == ['.', '.', '.', '#']and S[4][4 * x:4 * x + 4] == ['.', '#', '#', '#']:
        output.append("3")
    elif S[0][4 * x:4 * x + 4] == ['.', '#', '.', '#'] and S[1][4 * x:4 * x + 4] == ['.', '#', '.', '#'] and S[2][4 * x:4 * x + 4] == ['.', '#', '#', '#'] and S[3][4 * x:4 * x + 4] == ['.', '.', '.', '#'] and S[4][4 * x:4 * x + 4] == ['.', '.', '.', '#']:
        output.append("4")
    elif S[0][4 * x:4 * x + 4] == ['.', '#', '#', '#']and S[1][4 * x:4 * x + 4] == ['.', '#', '.', '.']and S[2][4 * x:4 * x + 4] == ['.', '#', '#', '#']and S[3][4 * x:4 * x + 4] == ['.', '.', '.', '#']and S[4][4 * x:4 * x + 4] == ['.', '#', '#', '#']:
        output.append("5")
    elif S[0][4 * x:4 * x + 4] == ['.', '#', '#', '#'] and S[1][4 * x:4 * x + 4] == ['.', '#', '.', '.'] and S[2][4 * x:4 * x + 4] == ['.', '#', '#', '#'] and S[3][4 * x:4 * x + 4] == ['.', '#', '.', '#'] and S[4][4 * x:4 * x + 4] == ['.', '#', '#', '#']:
        output.append("6")
    elif S[0][4 * x:4 * x + 4] == ['.', '#', '#', '#'] and S[1][4 * x:4 * x + 4] == ['.', '.', '.', '#'] and S[2][4 * x:4 * x + 4] == ['.', '.', '.', '#'] and S[3][4 * x:4 * x + 4] == ['.', '.', '.', '#'] and S[4][4 * x:4 * x + 4] == ['.', '.', '.', '#']:
        output.append("7")
    elif S[0][4 * x:4 * x + 4] == ['.', '#', '#', '#']and S[1][4 * x:4 * x + 4] == ['.', '#', '.', '#']and S[2][4 * x:4 * x + 4] == ['.', '#', '#', '#']and S[3][4 * x:4 * x + 4] == ['.', '#', '.', '#']and S[4][4 * x:4 * x + 4] == ['.', '#', '#', '#']:
        output.append("8")
    elif S[0][4 * x:4 * x + 4] == ['.', '#', '#', '#'] and S[1][4 * x:4 * x + 4] == ['.', '#', '.', '#'] and S[2][4 * x:4 * x + 4] == ['.', '#', '#', '#'] and S[3][4 * x:4 * x + 4] == ['.', '.', '.', '#'] and S[4][4 * x:4 * x + 4] == ['.', '#', '#', '#']:
        output.append("9")
    else:
        output.append("No")
print("".join(output))
